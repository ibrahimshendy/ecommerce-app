import e from"simplebar-core";var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])};return extendStatics(e,t)};function __extends(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}var t=e.helpers,i=t.getOptions,n=t.addClasses,a=t.canUseDOM;var r=function(t){__extends(SimpleBar,t);function SimpleBar(){var e=[];for(var i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.apply(this,e)||this;SimpleBar.instances.set(e[0],n);return n}SimpleBar.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements);window.removeEventListener("load",this.initDOMLoadedElements);Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(e){e.getAttribute("data-simplebar")==="init"||SimpleBar.instances.has(e)||new SimpleBar(e,i(e.attributes))}))};SimpleBar.removeObserver=function(){var e;(e=SimpleBar.globalObserver)===null||e===void 0?void 0:e.disconnect()};SimpleBar.prototype.initDOM=function(){var t=this;var i,a,r;if(!Array.prototype.filter.call(this.el.children,(function(e){return e.classList.contains(t.classNames.wrapper)})).length){this.wrapperEl=document.createElement("div");this.contentWrapperEl=document.createElement("div");this.offsetEl=document.createElement("div");this.maskEl=document.createElement("div");this.contentEl=document.createElement("div");this.placeholderEl=document.createElement("div");this.heightAutoObserverWrapperEl=document.createElement("div");this.heightAutoObserverEl=document.createElement("div");n(this.wrapperEl,this.classNames.wrapper);n(this.contentWrapperEl,this.classNames.contentWrapper);n(this.offsetEl,this.classNames.offset);n(this.maskEl,this.classNames.mask);n(this.contentEl,this.classNames.contentEl);n(this.placeholderEl,this.classNames.placeholder);n(this.heightAutoObserverWrapperEl,this.classNames.heightAutoObserverWrapperEl);n(this.heightAutoObserverEl,this.classNames.heightAutoObserverEl);while(this.el.firstChild)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl);this.offsetEl.appendChild(this.contentWrapperEl);this.maskEl.appendChild(this.offsetEl);this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl);this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl);this.wrapperEl.appendChild(this.maskEl);this.wrapperEl.appendChild(this.placeholderEl);this.el.appendChild(this.wrapperEl);(i=this.contentWrapperEl)===null||i===void 0?void 0:i.setAttribute("tabindex",this.options.tabIndex.toString());(a=this.contentWrapperEl)===null||a===void 0?void 0:a.setAttribute("role","region");(r=this.contentWrapperEl)===null||r===void 0?void 0:r.setAttribute("aria-label",this.options.ariaLabel)}if(!this.axis.x.track.el||!this.axis.y.track.el){var s=document.createElement("div");var l=document.createElement("div");n(s,this.classNames.track);n(l,this.classNames.scrollbar);s.appendChild(l);this.axis.x.track.el=s.cloneNode(true);n(this.axis.x.track.el,this.classNames.horizontal);this.axis.y.track.el=s.cloneNode(true);n(this.axis.y.track.el,this.classNames.vertical);this.el.appendChild(this.axis.x.track.el);this.el.appendChild(this.axis.y.track.el)}e.prototype.initDOM.call(this);this.el.setAttribute("data-simplebar","init")};SimpleBar.prototype.unMount=function(){e.prototype.unMount.call(this);SimpleBar.instances.delete(this.el)};SimpleBar.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this);if(typeof MutationObserver!=="undefined"){this.globalObserver=new MutationObserver(SimpleBar.handleMutations);this.globalObserver.observe(document,{childList:true,subtree:true})}if(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll)window.setTimeout(this.initDOMLoadedElements);else{document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements);window.addEventListener("load",this.initDOMLoadedElements)}};SimpleBar.handleMutations=function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){e.nodeType===1&&(e.hasAttribute("data-simplebar")?!SimpleBar.instances.has(e)&&document.documentElement.contains(e)&&new SimpleBar(e,i(e.attributes)):e.querySelectorAll("[data-simplebar]").forEach((function(e){e.getAttribute("data-simplebar")!=="init"&&!SimpleBar.instances.has(e)&&document.documentElement.contains(e)&&new SimpleBar(e,i(e.attributes))})))}));e.removedNodes.forEach((function(e){var t;e.nodeType===1&&(e.getAttribute("data-simplebar")==="init"?!document.documentElement.contains(e)&&((t=SimpleBar.instances.get(e))===null||t===void 0?void 0:t.unMount()):Array.prototype.forEach.call(e.querySelectorAll('[data-simplebar="init"]'),(function(e){var t;!document.documentElement.contains(e)&&((t=SimpleBar.instances.get(e))===null||t===void 0?void 0:t.unMount())})))}))}))};SimpleBar.instances=new WeakMap;return SimpleBar}(e);a&&r.initHtmlApi();export{r as default};

